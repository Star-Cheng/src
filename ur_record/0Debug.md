# Debug

```shell
# 确保整个gym目录属于ubuntu用户
sudo chown -R ubuntu:ubuntu /home/ubuntu/gym
pip3 install transforms3d -i https://pypi.tuna.tsinghua.edu.cn/simple
```

```python
# test1
left_joint_positions = [-0.6780195236206055, -0.1549086570739746, 0.3328738212585449, -0.29601097106933594, 0.6902914047241211, 0.3504042625427246, -0.4729442596435547]
left_end_effector_pose = [ 0.3994245, 0.1959098, -0.01030261]
left_end_effector_quat = [0.7378719860925844, -0.47471107283691893, -0.3532487254120623, 0.32466855015624724]

right_joint_positions = [-0.4019031524658203, 0.11811637878417969, -0.43258237838745117, -0.6672816276550293, -0.8666987419128418, 0.2319793701171875, 0.32726430892944336]
right_end_effector_pose = [0.34446838, -0.17186537, -0.05209294]
right_end_effector_quat = [0.6535959879454974, 0.43969913843486313, -0.4027945000626164, -0.4660831931324012]

# test2
# 楔子居于机器人本体52.5cm
# 1 left_arm
[-0.6734418869018555, 0.05364179611206055, 0.03837394714355469, 0.09048128128051758, 1.0738348960876465, 0.2150583267211914, -0.9962649345397949]
[ 0.32070523  0.28791819 -0.06846482]
[0.6499313465016504, -0.5278533848887347, -0.41180024221108413, 0.3596951617841824]

# 2 right_arm
[-0.4594755172729492, -0.06912565231323242, 0.17214202880859375, -0.3788938522338867, 1.1747655868530273, 0.3838381767272949, -0.608860969543457]
[ 0.32587236  0.23320527 -0.07068011]
[0.628654618016199, -0.5395337701955975, -0.3473074016693713, 0.43940215157768764]
[-0.05011796951293945, -0.3115420341491699, 0.4933905601501465, -0.9231443405151367, -1.2256503105163574, -0.3274807929992676, 0.634584903717041]
[ 0.21860032 -0.22410328 -0.10175608]
[0.6902344415204358, 0.4370077342568944, -0.5567398349348894, -0.15047063545854952]

# 3 left and right arm
[-0.4157094955444336, -0.15037822723388672, 0.2577095031738281, -0.48166990280151367, 0.9909520149230957, 0.3322734832763672, -0.610745906829834]
[ 0.32371069  0.20492773 -0.06846677]
[0.6457788789185539, -0.5312803574078042, -0.37486812155046495, 0.40023082442580193]

[-0.3865633010864258, 0.14421796798706055, -0.11504840850830078, -0.5430293083190918, -1.3759808540344238, 0.21728849411010742, 0.5463986396789551]
[ 0.32582432 -0.10157909 -0.06334479]
[0.5300945507556415, 0.5934877992232263, -0.34430361705638624, -0.4982238640553417]
```

```python
# 抬起纸箱
# 获取右臂关节角
right_joint_positions = [-0.7157459259033203, 0.15040206909179688, -0.2577328681945801, -0.4817180633544922, -0.9909753799438477, 0.33171796798706055, 0.610295295715332]
right_end_effector_pose = [ 0.44098031 -0.20493084  0.04713042]
right_end_effector_quat = [0.582547135772645, 0.5848687698290451, -0.4673399686813965, -0.31648176938746125]
```

```python
# 0718 测试
# test1
left_joint_positions = [-0.5844712257385254, -0.13964080810546875, 0.5860052108764648, -0.4218454360961914, 0.7256207466125488, 0.391998291015625, -0.7253684997558594]
left_end_effector_pose = [ 0.37393991  0.23797931 -0.02979316]
left_end_effector_quat = [0.5922223149600577, -0.5595006225798302, -0.43199847090166527, 0.3867933610272488]
right_joint_positions = [-0.41724300384521484, -0.05675792694091797, -0.21322345733642578, -0.4509906768798828, -0.09664106369018555, -0.0146331787109375, 0.18382930755615234]
right_end_effector_pose = [ 0.31869467 -0.3178169  -0.06120321]
right_end_effector_quat = [0.8884511286200468, 0.027830102301924207, -0.44538768118537164, -0.10728415963201311]
# test2
left_joint_positions =  [-0.5919246673583984, -0.14397907257080078, 0.5844464302062988, -0.42333126068115234, 0.7281379699707031, 0.39193248748779297, -0.7263665199279785]
left_end_effector_pose =  [ 0.37729191  0.23565225 -0.02674935]
left_end_effector_quat =  [0.5891266605516559, -0.5631324481745349, -0.4336738729212274, 0.3843677868730833]
right_joint_positions =  [-0.41724300384521484, -0.05675792694091797, -0.21322345733642578, -0.4509906768798828, -0.09661674499511719, -0.015160560607910156, 0.18384838104248047]
right_end_effector_pose =  [ 0.31870085 -0.31781623 -0.0611959 ]
right_end_effector_quat =  [0.8883573822582889, 0.02778539595826021, -0.4455908705014253, -0.1072283044929134]
Service test end
```

## 抓住纸箱

```python
# 07.21 test1
left_joint_positions = [-0.8237481117248535, 0.26422786712646484, -0.23824644088745117, -0.0004076957702636719, 1.4139466285705566, 0.844813346862793, -0.7457170486450195]
left_end_effector_pose =  [0.39141684 0.37782437 0.02342497]
left_end_effector_quat =  [0.6733941594331715, -0.5827220661212154, -0.24117596996335405, 0.3857582808041192]
right_joint_positions =  [-0.38965511322021484, -0.34056758880615234, -0.8375768661499023, -0.6028785705566406, -0.23623371124267578, -0.27348804473876953, -0.019092082977294922]
right_end_effector_pose =  [ 0.26732899 -0.53199991  0.02748869]
right_end_effector_quat =  [0.6211314060135757, -0.23351120571517447, -0.6157149709542662, -0.42492748535700925]
Service test end
# 07.21 test2
left_joint_positions =  [-0.8312263488769531, 0.2678956985473633, -0.23400402069091797, 7.2479248046875e-05, 1.3770594596862793, 0.8419070243835449, -0.8185315132141113]
left_end_effector_pose =  [0.39343774 0.37985853 0.02653138]
left_end_effector_quat =  [0.6634178704237566, -0.5995055592775055, -0.25459156033717684, 0.3683109433655954]
right_joint_positions =  [-0.3896307945251465, -0.3405437469482422, -0.8375530242919922, -0.6028785705566406, -0.23623371124267578, -0.2729225158691406, -0.019066333770751953]
right_end_effector_pose =  [ 0.26732658 -0.53198521  0.02746419]
right_end_effector_quat =  [0.6212883593099826, -0.2333890203831308, -0.6155684091304529, -0.4249774975585362]
# 07.21 test3
left_joint_positions =  [-0.8031110763549805, 0.30185794830322266, -0.5942502021789551, -0.17487382888793945, 1.866687297821045, 0.837101936340332, -0.6051468849182129]
left_end_effector_pose =  [0.41142949 0.37172178 0.04152597]
left_end_effector_quat =  [0.677618664530954, -0.5912332983750535, -0.2420876987083504, 0.3642384912470627]
right_joint_positions =  [0.07056331634521484, 0.09664106369018555, -0.5487575531005859, -1.1031246185302734, 0.07669925689697266, -0.012343883514404297, -0.2047405242919922]
right_end_effector_pose =  [ 0.17680298 -0.34019713 -0.06763432]
right_end_effector_quat =  [0.8208063639300158, -0.25226822831247847, -0.4503065771990196, -0.24466638601853938]
```

## 抓住多个纸箱

```shell
git clone https://github.com/RobotWebTools/rosbridge_suite.git
git checkout ros1
catkin_make
sudo apt-get install python3-autobahn python3-twisted
git clone https://github.com/GT-RAIL/rosauth.git
roslaunch rosbridge_server rosbridge_websocket.launch address:=192.168.41.1 port:=9090
```

## 插入楔子

```python
# 抓住楔子抬起来后的位置
left_joint_positions = [-0.4481387138366699, -0.20759057998657227, 0.20469045639038086, -1.1536016464233398, 1.1887874603271484, 0.4916706085205078, -0.1565570831298828]
left_end_effector_pose = [0.40593656521727806, 0.19103989555676446, 0.09998230819120782]
left_end_effector_quat = [0.6022336272331124, -0.5738677670383182, -0.45149258095975353, 0.3227148796110952]
right_joint_positions = [-0.4481620788574219, 0.2075667381286621, -0.20476245880126953, -1.1535301208496094, -1.1888833045959473, 0.4928269386291504, 0.15617084503173828]
right_end_effector_pose = [0.40593221109150884, -0.1910419269841364, 0.09996707405770607]
right_end_effector_quat = [0.6025419528516526, 0.5739891547777484, -0.4510198433436428, -0.3225844791082153]
```

## 抬起楔子后的位置

```python
# arm_solver_que1
left_joint_positions = [-0.4369931221008301, -0.06675243377685547, -0.04865550994873047, -1.1501264572143555, 1.4384427070617676, 0.324462890625, -0.11314964294433594]
left_end_effector_pose = [0.4059474613626923, 0.19107957628716637, 0.09996586585210475]
left_end_effector_quat = [0.6020614463609986, -0.5739341558095286, -0.45166530742527733, 0.32267638536052784]
right_joint_positions = [-0.43701744079589844, 0.06682443618774414, 0.04870414733886719, -1.1501736640930176, -1.438394546508789, 0.32512855529785156, 0.11281156539916992]
right_end_effector_pose = [0.40594751159308984, -0.19102325354420444, 0.09998513839498906]
right_end_effector_quat = [0.6022921247375773, 0.573985203884268, -0.4513891807938686, -0.3225414541780182]
# arm_solver_que_continue1
left_joint_positions = [-0.9200773239135742, -0.1565861701965332, 0.602231502532959, -0.1523914337158203, 0.6423068046569824, 0.24759721755981445, -0.6779112815856934]
left_end_effector_pose = [0.4628717941394833, 0.17158425709053374, 0.06311684271304033]
left_end_effector_quat = [0.6100995744573529, -0.5794633320053267, -0.4428095175449056, 0.3097103280161798]
right_joint_positions = [-0.9201254844665527, 0.15661048889160156, -0.6021595001220703, -0.15246343612670898, -0.6422343254089355, 0.24697160720825195, 0.6783790588378906]
right_end_effector_pose = [0.46290117255607643, -0.17158757172518757, 0.06315497717288891]
right_end_effector_quat = [0.6099372112722864, 0.5794404144500556, -0.44317826210208, -0.30954552558147846]
# arm_solver_que2
left_joint_positions = [-0.1934976577758789, -2.4318695068359375e-05, -0.16025304794311523, -1.1496953964233398, 1.542945384979248, 0.24852514266967773, -0.1071619987487793]
left_end_effector_pose = [0.3240478810534138, 0.2010093482662063, 0.008563318601864753]
left_end_effector_quat = [0.6510020643330278, -0.5229135817049364, -0.38061883066384505, 0.39734997677958817]
right_joint_positions = [-0.1934971809387207, 4.8160552978515625e-05, 0.16030168533325195, -1.1496949195861816, -1.5429449081420898, 0.24897527694702148, 0.10753154754638672]
right_end_effector_pose = [0.32404179264514216, -0.20097898619624627, 0.008561012308079936]
right_end_effector_quat = [0.6509888597387649, 0.5231451778982422, -0.38051585919541964, -0.39716534118501706]
# arm_solver_que_continue2
left_joint_positions = [-0.673393726348877, -0.15483665466308594, 0.606353759765625, -0.14455413818359375, 0.6379685401916504, 0.24419164657592773, -0.6808352470397949]
left_end_effector_pose = [0.3705689343248454, 0.18070237494606478, -0.0411430079383061]
left_end_effector_quat = [0.6569151699675373, -0.5317082722433997, -0.3699893794752924, 0.3858194289689779]
right_joint_positions = [-0.6733942031860352, 0.15488481521606445, -0.6063060760498047, -0.1445775032043457, -0.637944221496582, 0.24417352676391602, 0.6808109283447266]
right_end_effector_pose = [0.3705717819207914, -0.18067758478808893, -0.04113878511621331]
right_end_effector_quat = [0.6569363836525381, 0.5317079057092623, -0.3699829069923668, -0.38579001979480126]
```

## 抬起箱子

```python
left_joint_positions = [-1.1031479835510254, 0.3519291877746582, -0.5942502021789551, -0.1748976707458496, 1.866711139678955, 0.8365273475646973, -0.6045083999633789]
left_end_effector_pose = [0.49139035049521185, 0.3863334420005714, 0.1839663435497724]
left_end_effector_quat = [0.6394114697766845, -0.6273574282828561, -0.35111895992791475, 0.272563947497611]
right_joint_positions = [-1.1030998229980469, -0.3519768714904785, 0.5942497253417969, -0.17487382888793945, -1.866614818572998, 0.837104320526123, 0.6050863265991211]
right_end_effector_pose = [0.4913631671693346, -0.386356039384854, 0.1839420450964418]
right_end_effector_quat = [0.639313586157058, 0.6276110627003378, -0.35094137894395117, -0.2724383252702758]
```

### 胳膊抬起箱子

```python
def test(self):
    # 胳膊抬起箱子
    left_target_pos_ = [0.4818355218972293, 0.30891879740435025, 0.20317399758831928]
    left_target_quat_ = [0.47667784600829505, -0.5222997243680862, -0.5621693072410407, 0.42889031120560545]

    right_target_pos_ = [0.4818341740106666, -0.30891879740435025, 0.2031883117156999]
    right_target_quat_ = [0.4765560901236734, 0.5220236888641674, -0.5623006804066147, -0.42918935919351736]
    # 发送消息
    insert_wedge_success = self.arm_controller.move_dual_arm_by_xyz(left_target_pos_, left_target_quat_, right_target_pos_, right_target_quat_)
```
